<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Map Editor</title>
    <link href="../assets/components/uiComponents/miniMap/miniMap.css" rel="stylesheet">
    <link href="../assets/css/all.css" rel="stylesheet">

    <link href="./css/head.css" rel="stylesheet">
    <link href="./css/coordinates.css" rel="stylesheet">
    <link href="./css/coordinateBlock.css" rel="stylesheet">
    <link href="./css/navBar.css" rel="stylesheet">
    <link href="./css/subMenu.css" rel="stylesheet">
    <link href="./css/notification.css" rel="stylesheet">
    <link href="./css/changeType.css" rel="stylesheet">
    <link href="./css/rotate.css" rel="stylesheet">
    <link href="./css/textures.css" rel="stylesheet">
    <link href="./css/heightCoordinates.css" rel="stylesheet">
    <link href="./css/transport.css" rel="stylesheet">
    <link href="./css/handlers.css" rel="stylesheet">

    <script src="./js/webSocket.js"></script>
    <script src="./js/ReaderMapEditor.js"></script>
    <script src="./js/GetMapList.js"></script>
    <script src="./js/ViewTypeCoordinate.js"></script>
    <script src="./js/Editor.js"></script>
    <script src="./js/CreateNewType.js"></script>
    <script src="./js/NavBar.js"></script>
    <script src="./js/UpdateMap.js"></script>
    <script src="./js/HideMeta.js"></script>
    <script src="./js/SubMenu.js"></script>
    <script src="./js/changeOptionSprite.js"></script>
    <script src="./js/HeightCoordinate.js"></script>
    <script src="./js/SelectedSprite.js"></script>
    <script src="./js/Textures.js"></script>
    <script src="./js/transport.js"></script>
    <script src="./js/handler.js"></script>
    <script src="./js/GeoData.js"></script>
    <script src="./js/Beams.js"></script>
    <script src="./js/Emitters.js"></script>
    <script src="./js/SaveMap.js"></script>
    <script src="./js/reloadCoordinate.js"></script>

    <script src="../game/Create.js"></script>
    <script src="../game/Preload.js"></script>
    <script src="../game/preloadAutoGenerated.js"></script>
    <script src="../game/Render.js"></script>
    <script src="../game/Update.js"></script>

    <script src="../game/CreateMap/CreateMap.js"></script>
    <script src="../game/CreateMap/Objects.js"></script>
    <script src="../game/CreateMap/Animate.js"></script>
    <script src="../game/CreateMap/Terrain.js"></script>
    <script src="../game/CreateMap/MarkZoneEffect.js"></script>
    <script src="../game/CreateMap/DynamicMap.js"></script>
    <script src="../game/CreateMap/Beam.js"></script>
    <script src="../game/CreateMap/Emitters.js"></script>
    <script src="../game/CreateMap/Reservoir.js"></script>

    <script src="../game/CreateMap/debug/GeoData.js"></script>
    <script src="../game/CreateMap/debug/Anomalies.js"></script>

    <script src="../game/Interface/GrabCamera.js"></script>
    <script src="../game/Interface/RotateMap.js"></script>
    <script src="../game/Interface/SizeMap.js"></script>
    <script src="../game/Interface/TipOff.js"></script>
    <script src="../game/Interface/Wheel.js"></script>
    <script src="../game/Interface/TipEffect.js"></script>
    <script src="../game/Interface/ParseEquipEffect.js"></script>

    <script src="../assets/components/uiComponents/miniMap/CreateMiniMap.js"></script>
    <script src="../assets/components/uiComponents/miniMap/MouseZoomPress.js"></script>
    <script src="../assets/components/uiComponents/miniMap/HideMap.js"></script>
    <script src="../assets/components/MouseOver.js"></script>
    <script src="../assets/components/MoveWindow.js"></script>

    <script src="../game/utils/hexRadius.js"></script>
    <script src="../game/CreateMap/DynamicShadowMap.js"></script>
    <script src="../game/utils/getXYCenterHex.js"></script>

    <script src="../assets/lib/phaser.js"></script>
    <script src="../assets/lib/jquery-3.3.1.js"></script>
    <script src="../assets/lib/jquery-ui.js"></script>
    <script src="../assets/lib/jqueryPlugins/alsoResizeReverse.js"></script>
</head>
<body oncontextmenu="return false;" onload="OpenMapEditorSocket()" onmousemove="moveMouse(event)">
<div id="container">
    <div id="miniMap">
        <div class="topButton" onclick="HideMap()"> _</div>
        <div class="topButton" onmousedown="moveWindow(event,'miniMap')"> ⇿</div>
        <canvas id="canvasMap"></canvas>
        <div class="zoomButton" onmouseleave="mouseZoomPress('')" onmousedown="mouseZoomPress('zoomUp')"
             onmouseup="mouseZoomPress('')"> +
        </div>
        <div class="zoomButton" onmouseleave="mouseZoomPress('')" onmousedown="mouseZoomPress('zoomDown')"
             onmouseup="mouseZoomPress('')"> -
        </div>
        <div class="zoomButton" onmousedown="FocusMS()"> &#9055;</div>
    </div>
    <div id="head">
        <select title="mapSelector" id="mapSelector" onchange="selectMap();">
            <option value="" disabled selected>Выберите карту</option>
        </select>
        <table>
            <tr>
                <td colspan="3">Столбецы:</td>
            </tr>
            <tr>
                <td>Начало</td>
                <td><input type="submit" value="+" onclick="SendCommand('addStartColumn')"></td>
                <td><input type="submit" value="-" onclick="SendCommand('removeStartColumn')"></td>
            </tr>
            <tr>
                <td>Конец</td>
                <td><input type="submit" value="+" onclick="SendCommand('addEndColumn')"></td>
                <td><input type="submit" value="-" onclick="SendCommand('removeEndColumn')"></td>
            </tr>
        </table>
        <table>
            <tr>
                <td colspan="3">Строки:</td>
            </tr>
            <tr>
                <td>Начало</td>
                <td><input type="submit" value="+" onclick="SendCommand('addStartRow')"></td>
                <td><input type="submit" value="-" onclick="SendCommand('removeStartRow')"></td>
            </tr>
            <tr>
                <td>Конец</td>
                <td><input type="submit" value="+" onclick="SendCommand('addEndRow')"></td>
                <td><input type="submit" value="-" onclick="SendCommand('removeEndRow')"></td>
            </tr>
        </table>

        <div id="hideMeta" onclick="HideMeta()"> Скрыть мето данные</div>

        <div id="HeightCoordinates">
            <h4>Изменение высот</h4>
            <div onclick="HeightCoordinate(true)">+</div>
            <div onclick="HeightCoordinate(false)">-</div>
            <div onclick="OptionSprite()"> Opt</div>
        </div>

        <div id="texturesBlock">
            <h4>Текстуры земли</h4>
            <div id="textures">
                <div onclick="RemoveTexture()"
                     style='background: url("/assets/removeIcon.png") center center / 115% no-repeat;'></div>
                <div onclick="PlaceTexture('soil')"
                     style='background: url("/assets/terrainTextures/icon/soil.jpg") center center / 115% no-repeat;'></div>
                <div onclick="PlaceTexture('soil_2')"
                     style='background: url("/assets/terrainTextures/icon/soil_2.jpg") center center / 115% no-repeat;'></div>
                <div onclick="PlaceTexture('desertDunes')"
                     style='background: url("/assets/terrainTextures/icon/desertDunes.jpg") center center / 115% no-repeat;'></div>
                <div onclick="PlaceTexture('desertDunes_2')"
                     style='background: url("/assets/terrainTextures/icon/desertDunes_2.jpg") center center / 115% no-repeat;'></div>
                <div onclick="PlaceTexture('grass_1')"
                     style='background: url("/assets/terrainTextures/icon/grass_1.jpg") center center / 115% no-repeat;'></div>
                <div onclick="PlaceTexture('grass_2')"
                     style='background: url("/assets/terrainTextures/icon/grass_2.jpg") center center / 115% no-repeat;'></div>
                <div onclick="PlaceTexture('grass_3')"
                     style='background: url("/assets/terrainTextures/icon/grass_3.jpg") center center / 115% no-repeat;'></div>
                <div onclick="PlaceTexture('xenos')"
                     style='background: url("/assets/terrainTextures/icon/xenos.jpg") center center / 115% no-repeat;'></div>
                <div onclick="PlaceTexture('xenos_2')"
                     style='background: url("/assets/terrainTextures/icon/xenos_2.jpg") center center / 115% no-repeat;'></div>
                <div onclick="PlaceTexture('arctic')"
                     style='background: url("/assets/terrainTextures/icon/arctic.jpg") center center / 115% no-repeat;'></div>
                <div onclick="PlaceTexture('arctic_2')"
                     style='background: url("/assets/terrainTextures/icon/arctic_2.jpg") center center / 115% no-repeat;'></div>
                <div onclick="PlaceTexture('tundra')"
                     style='background: url("/assets/terrainTextures/icon/tundra.jpg") center center / 115% no-repeat;'></div>
                <div onclick="PlaceTexture('tundra_2')"
                     style='background: url("/assets/terrainTextures/icon/tundra_2.jpg") center center / 115% no-repeat;'></div>
                <div onclick="PlaceTexture('ravine_1_9')"
                     style='background: url("/assets/terrainTextures/icon/ravine_1_9.png") center center / 115% no-repeat;'></div>
                <div onclick="PlaceTexture('ravine_2_9')"
                     style='background: url("/assets/terrainTextures/icon/ravine_2_9.png") center center / 115% no-repeat;'></div>
            </div>
        </div>
        <div id="Emitters">
            <h4> Излучатели </h4>
            <div onclick="RemoveEmitter()"
                 style='background: url("/assets/removeIcon.png") center center / 115% no-repeat;'></div>
            <div onclick="ChangeEmitter()"
                 style='background: url("/assets/changeIcon.png") center center / 115% no-repeat;'></div>
            <div onclick="AddEmitter()"
                 style='background: url("") center center / 115% no-repeat;'></div>
        </div>
        <div id="transportBlock">
            <h4> Эвакуатор хедлер </h4>
            <div onclick="RemoveTransport()"
                 style='background: url("/assets/removeIcon.png") center center / 115% no-repeat;'></div>
            <div onclick="AddTransport()"><img src="https://img.icons8.com/color/40/000000/drone.png"></div>
        </div>
        <div id="handlerBlock">
            <h4> Переходы </h4>
            <div onclick="RemoveHandler()"
                 style='background: url("/assets/removeIcon.png") center center / 115% no-repeat;'></div>
            <div onclick="AddHandler()"
                 style='background: url("") center center / 115% no-repeat;'></div>
        </div>
        <div id="geoPoint">
            <h4> Гео дата </h4>
            <div onclick="RemoveGeoData()"
                 style='background: url("/assets/removeIcon.png") center center / 115% no-repeat;'></div>
            <div onclick="CancelGeoData()"
                 style='background: url("/assets/cancelIcon.png") center center / 115% no-repeat;'></div>
            <div onclick="AddGeoData()"
                 style='background: url("") center center / 115% no-repeat;'></div>
        </div>
        <div id="Beams">
            <h4> Лучи ¯\_(ツ)_/¯ </h4>
            <div onclick="RemoveBeam()"
                 style='background: url("/assets/removeIcon.png") center center / 115% no-repeat;'></div>
            <div onclick="AddBeam()"
                 style='background: url("") center center / 115% no-repeat;'></div>
        </div>
    </div>

    <div id="newCoordinate">
        <h4>Создать новый тип координаты: </h4>
        <form name="uploadNewTerrain" onsubmit="return false;">
            <table style="float: right;">
                <tr>
                    <td> Текстура земли</td>
                    <td><input required type="file" name="terrainTexture"></td>
                </tr>
            </table>
            <input style="margin: 5px; width: 95px;" type="submit" value="Загрузить" onclick="CreateNewTerrain()">
        </form>

        <form name="uploadNewObject" onsubmit="return false;">
            <table>
                <tr>
                    <td> Текстура обьекта</td>
                    <td><input type="file" name="objectTexture"></td>
                </tr>
                <tr>
                    <td> Анимация спрайта</td>
                    <td><input type="file" name="animateSprite"></td>
                </tr>
                <tr>
                    <td> Через нее можно смотреть</td>
                    <td><input type="checkbox" checked name="watch" title="watch"> Через нее можно ходить <input
                                type="checkbox" checked name="move" title="move"></td>
                </tr>
                <tr>
                    <td> Через нее можно стрелять</td>
                    <td><input type="checkbox" checked name="attack" title="attack"> Обьект отбрасывает тень <input
                                type="checkbox" checked name="shadow" title="shadow"></td>
                </tr>
                <tr>
                    <td> Радиус воздействия</td>
                    <td><input type="number" value="0" name="radius" title="radius"></td>
                </tr>
                <tr>
                    <td> Размер (1=1% 100 = 100%)</td>
                    <td><input type="number" value="100" name="scale" title="scale"></td>
                </tr>
                <tr>
                    <td> Количество спрайтов</td>
                    <td><input type="number" value="1" name="countSprite" title="countSprite"></td>
                </tr>
                <tr>
                    <td> Размер 1го спрайта (px)</td>
                    <td> X: <input style="width: 60px" type="number" value="256" name="xSize" title="xSize">
                        Y:<input style="width: 60px" type="number" value="256" name="ySize" title="ySize">
                    </td>
                </tr>
            </table>
            <input type="submit" value="Загрузить" onclick="CreateNewObject()">
        </form>
        <input type="button" value="Сохранить карту" onclick="SaveMap()">
    </div>

    <div id="main">

    </div>

    <div id="coordinates">
        <h3>Типы Координат</h3>

        <div id="coordinateBlock">
            <div id="navBar">
                <div id="oneMenu" class="active" data-id-menu="1" onclick="getTypesCoordinate(1)"> Шаблоны</div>
                <div id="twoMenu" data-id-menu="2" onclick="getTypesCoordinate(2)"> Местность</div>
                <div id="threeMenu" data-id-menu="3" onclick="getTypesCoordinate(3)"> Обьекты</div>
                <div id="fourMenu" data-id-menu="4" onclick="getTypesCoordinate(4)"> Аним. обьекты</div>
            </div>
        </div>
    </div>
</div>
</body>
</html>