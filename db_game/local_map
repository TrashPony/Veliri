CREATE TABLE maps(
    id            serial primary key,
    name          varchar(64),
    x_size        int,                                 /* размер карты по Х */
    y_size        int,                                 /* размер карты по Y */
    id_type       int references coordinate_type(id),  /* определяет основй тип тесктур если они явно не указаны в конструкторе */
    specification varchar(255)                         /* описание карты */
);

CREATE TABLE map_constructor(
   id      serial primary key,
   id_map  int references maps(id),             /* ид карты к которой принадлежит координата */
   id_type int references coordinate_type(id),  /* ид типа координаты */
   x       int,
   y       int
);

CREATE TABLE coordinate_type(
   id             serial primary key,
   type           varchar(64),
   texture_flore  varchar(64),  /* имя текстуры земли, воды, лавы и тд. */
   texture_object varchar(64),  /* имя текстуры обьекта (камень, дерево, стена и тд) если он есть на зоне */
   move           boolean,      /* определяет можно ли ходить через эту координату */
   view           boolean,      /* определяет можно ли видить через эту координату */
   attack         boolean,      /* определяет можно ли атаковать через эту координату */
   level          int           /* определяет уровень координаты ""примечание 1"" */
);

CREATE TABLE coordinate_type_effect(
   id_type   int references coordinate_type(id), /* ид координаты на которую кладем эфекты */
   id_effect int references effects_type(id)     /* ид эфекта которое накладывается когда юнит находиться на зоне */
);



/* ""примечание 1"".
    5 уровней высот.
    Если родитеская координата 4 а дочерняя 3 то это спуск.
    Если родитеская 3 а дочерняя 4 то это подьем.
    Если разница уровней 2 и более то проезд не возможен т.к. слишком высоко или резкий обвал
    Если разница уровней 2 снизу вверх то просмотр и стрельба невозможна
    Если разница уровней 2+ сверху в них то просмотр и стрельба с бонусом +1 за кажный уровень разницы
*/