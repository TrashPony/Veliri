CREATE TABLE action_games(
   id serial primary key,
   name varchar(64),
   id_map int references maps(id),
   step int,
   phase varchar(64),
   winner varchar(64)
);

CREATE TABLE action_game_unit(

	/* Методанные об игре и владельце */
	id_user int references users(id),
	id serial primary key,
	id_game int references action_games(id),

	/* Части юнита */
	id_chassis int references chassis_type(id),
	id_weapons int references weapon_type(id),
	id_tower int references tower_type(id),
	id_body int references body_type(id),
	id_radar int references radar_type(id),

	/* Игровая статистика */
	action varchar(64),
	target varchar(64),
	x int,
	y int,
	rotate int,
	queue_attack int,
	hp int
);

CREATE TABLE  action_mother_ship(
    id serial primary key,
    id_game int references action_games(id),
    id_type int references mother_ship_type(id),
    id_user int references users(id),
    x int,
    y int
);

CREATE TABLE action_game_user(
   id_game int references action_games(id),
   id_user int references users(id),
   id_mother_ship int references mother_ship_type(id),
   ready boolean
);
